{% load static %}

<form id="searchForm" method="POST" action="{% url 'task:search_task' %}">
  <!-- Dropdown for environments -->
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" id="environmentsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Select Environment
    </button>
    <div class="dropdown-menu" aria-labelledby="environmentsDropdown">
      {% for environment in environments %}
        <a class="dropdown-item" href="#">
          {{ environment.label }} (ID: {{ environment.environment_id }})
        </a>
      {% empty %}
        <span class="dropdown-item">No environments available</span>
      {% endfor %}
    </div>
  </div>
</form>

<!-- Optional CSS to make the dropdown look better -->
<style>
  .dropdown-menu {
    max-height: 200px;
    overflow-y: auto;
  }
</style>

<!-- Include Bootstrap JS and CSS for the dropdown -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
